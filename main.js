!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var a=e=>{const t=e;let n=[];return{length:t,getWhereHit:()=>n,hit:e=>{e<t&&!n.includes(e)&&(n=n.concat([e]))},isSunk:()=>n.length===t}};var l=()=>{let e=Array(100).fill({ship:null,index:null,status:"available"});const t=t=>e[t],n=e=>{let t=[];return[e-1,e+1,e-10,e+10,e-11,e-9,e+9,e+11].forEach(n=>{n>=0&&n<100&&(e%10!=9&&e%10!=0?t.push(n):e%10==9?n%10!=0&&t.push(n):n%10!=9&&t.push(n))}),t};return{getPosition:t,placeShip:(a,l,i)=>{const r=((e,t)=>{const n=t-e;let a=[];if(n<0)return a;if(n<=4)for(let n=e;n<=t;n++)a.push(n);else if(n%10==0&&n<=40)for(let n=e;n<=t;n+=10)a.push(n);return a})(l,i),o=e.slice(0);let s=!1;r.length===a.length&&0!==r.length&&(r.forEach(e=>{null===t(e).ship?n(e).forEach(e=>{null===t(e).ship||(s=!0)}):s=!0}),s||(r.forEach((e,t)=>{o[e]={ship:a,index:t,status:"available"}}),e=o))},receiveAttack:a=>{if("available"===t(a).status){const l=null===t(a).ship?"missed":"hit";return((t,n)=>{const a=e.slice(0);a[n]={ship:a[n].ship,index:a[n].index,status:t},e=a})(l,a),"hit"===l&&(t(a).ship.hit(t(a).index),t(a).ship.isSunk()&&(a=>{const l=e.slice(0);e.forEach((e,i)=>{e.ship===a&&n(i).forEach(e=>{null===t(e).ship&&"available"===t(e).status&&(l[e]={ship:null,index:null,status:"unavailable"})})}),e=l})(t(a).ship)),l}return null},allShipsSunk:()=>{let t=!1;return e.forEach(e=>{null===e.ship||e.ship.isSunk()||(t=!0)}),!t}}};var i=(e,t)=>{const n=(e,t)=>Array(100).fill(0).map((e,t)=>t).filter(n=>e.getPosition(n).status===t);return{name:e,randomMove:e=>{if(!t)return null;const a=n(e,"available"),l=n(e,"hit");if(0!==l.length){const e=a.filter(e=>l.some(t=>(e=>{let t=[];return[e-1,e+1,e-10,e+10].forEach(n=>{n>=0&&n<100&&(e%10!=9&&e%10!=0?t.push(n):e%10==9?n%10!=0&&t.push(n):n%10!=9&&t.push(n))}),t})(e).includes(t)));if(0!==e.length)return e[Math.floor(Math.random()*e.length)]}return a[Math.floor(Math.random()*a.length)]}}};var r=(e=>{const t=e.querySelector("body"),n=t=>{document.getElementById("gameboards-container").removeChild(e.getElementById(t))},a=()=>{t.removeChild(e.getElementById("options"))},l=(n,a)=>{const l=e.createElement("div"),i=e.createElement("span");null!==a?(l.id="won-message",i.textContent=a+" won!"):n?(l.id="won-message",i.textContent="You won!"):(l.id="lost-message",i.textContent="You lost"),l.appendChild(i),t.appendChild(l)},i=n=>{const a=e.createElement("div");a.id="turn-message";const l=e.createElement("span");l.textContent=n+"'s turn",a.appendChild(l),t.appendChild(a)},r=()=>{t.removeChild(e.getElementById("turn-message"))},o=(a,s,d,p,c,u,h,m)=>{const f=e.getElementById("gameboards-container")||e.createElement("div");f.id="gameboards-container";const S=e.createElement("div");S.classList.add("gameboard"),S.id=a;Array(100).fill(0).map((e,t)=>s.getPosition(t)).forEach((f,g)=>{const v=e.createElement("div");v.classList.add("cell"),v.classList.add(f.status),null!==f.ship&&v.classList.add("ship"),p&&c&&!s.allShipsSunk()&&!d.allShipsSunk()?v.addEventListener("click",e=>{let t=s.receiveAttack(g);if("hit"===t)n("gameboard-one"),o("gameboard-one",d,s,!p,!c,()=>{},m,h),n(a),o(a,s,d,p,c,u,h,m),s.allShipsSunk()?l(!0,null):d.allShipsSunk()&&l(!1,null);else if(null!==t){for(;"hit"===u();)n("gameboard-one"),o("gameboard-one",d,s,!p,!c,()=>{},m,h);n("gameboard-one"),o("gameboard-one",d,s,!p,!c,()=>{},m,h),n(a),o(a,s,d,p,c,u,h,m),s.allShipsSunk()?l(!0,null):d.allShipsSunk()&&l(!1,null)}}):null!==u||s.allShipsSunk()||d.allShipsSunk()||v.addEventListener("click",f=>{let S=s.receiveAttack(g);"hit"===S?(r(),n(a),o(a,s,d,p,c,u,h,m),s.allShipsSunk()?l(!0,m):d.allShipsSunk()?l(!1,h):i(m)):null!==S&&(r(),n(a),o(a,s,d,p,c,u,h,m),i(m),r(),n(a),(()=>{const n=e.createElement("div");n.id="pass-device-message";const a=e.createElement("span");a.textContent="Pass the device...",n.appendChild(a),t.appendChild(n)})(),setTimeout(()=>{t.removeChild(e.getElementById("pass-device-message")),o("gameboard-one"===a?"gameboard-two":"gameboard-one",d,s,!1,c,null,m,h),i(h)},5e3))}),S.appendChild(v)}),f.appendChild(S),t.appendChild(f)};return{clearBoard:n,renderBoard:o,renderTitle:()=>{const n=e.createElement("div");n.id="title";const a=e.createElement("h1");a.textContent="Battleship",n.appendChild(a),t.appendChild(n)},renderOptionScreen:(n,l)=>{const i=e.createElement("div");i.id="options";const r=e.createElement("button");r.classList.add("option-button"),r.textContent="Play against the computer",r.addEventListener("click",()=>{a(),n()});const o=e.createElement("button");o.classList.add("option-button"),o.textContent="Play against someone else",o.addEventListener("click",()=>{a(),l()}),i.appendChild(r),i.appendChild(o),t.appendChild(i)},clearOptionScreen:a,renderNameInput:n=>{const a=e.createElement("form");a.id="name-inputs-form";const l=e.createElement("div");l.id="name-inputs";const i=e.createElement("label");i.for="name1",i.textContent="Player 1: ",l.appendChild(i);const r=e.createElement("input");r.type="text",r.id="name1",r.required=!0,l.appendChild(r);const o=e.createElement("label");o.for="name2",o.textContent="Player 2: ",l.appendChild(o);const s=e.createElement("input");s.type="text",s.id="name2",s.required=!0,l.appendChild(s),a.appendChild(l);const d=e.createElement("input");d.type="submit",d.id="submit-button",d.addEventListener("click",t=>{t.preventDefault();const a=e.getElementById("name1"),l=e.getElementById("name2");a.checkValidity()&&l.checkValidity()&&n(a.value,l.value)}),a.appendChild(d),t.appendChild(a)},clearNameInput:()=>{t.removeChild(e.querySelector("form"))},renderTurnMessage:i}})(document);((e,t,n)=>{const o=l(),s=l(),d=i(t,!1),p=i(n,e),c=a(4,5,35),u=a(3,17,37),h=a(1,9,9),m=a(1,29,29),f=a(1,49,49),S=a(2,54,64),g=a(2,56,66),v=a(2,68,69),b=a(1,85,85),E=a(3,97,99),C=a(4,5,35),y=a(3,17,37),k=a(1,9,9),x=a(1,29,29),B=a(1,49,49),P=a(2,54,64),I=a(2,56,66),M=a(2,68,69),L=a(1,85,85),O=a(3,97,99);o.placeShip(c,5,35),o.placeShip(u,17,37),o.placeShip(h,9,9),o.placeShip(m,29,29),o.placeShip(f,49,49),o.placeShip(S,54,64),o.placeShip(g,56,66),o.placeShip(v,68,69),o.placeShip(b,85,85),o.placeShip(E,97,99),s.placeShip(C,5,35),s.placeShip(y,17,37),s.placeShip(k,9,9),s.placeShip(x,29,29),s.placeShip(B,49,49),s.placeShip(P,54,64),s.placeShip(I,56,66),s.placeShip(M,68,69),s.placeShip(L,85,85),s.placeShip(O,97,99),r.renderTitle(),r.renderOptionScreen(()=>{r.renderBoard("gameboard-one",o,s,!1,!1,()=>null,d.name,p.name),r.renderBoard("gameboard-two",s,o,!0,!0,()=>o.receiveAttack(p.randomMove(o)),p.name,d.name)},()=>{r.renderNameInput((e,t)=>{r.clearNameInput(),r.renderBoard("gameboard-two",s,o,!1,!0,null,t,e),r.renderTurnMessage(e)})})})(!0,"helder","computer")}]);