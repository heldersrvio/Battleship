!function(e){var t={};function n(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(l,a,function(t){return e[t]}.bind(null,a));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=e=>{const t=e;let n=[];return{length:t,getWhereHit:()=>n,hit:e=>{e<t&&!n.includes(e)&&(n=n.concat([e]))},isSunk:()=>n.length===t}};var a=()=>{let e=Array(100).fill({ship:null,index:null,status:"available"});const t=t=>e[t],n=e=>{let t=[];return[e-1,e+1,e-10,e+10,e-11,e-9,e+9,e+11].forEach(n=>{n>=0&&n<100&&(e%10!=9&&e%10!=0?t.push(n):e%10==9?n%10!=0&&t.push(n):n%10!=9&&t.push(n))}),t};return{getPosition:t,placeShip:(l,a,i)=>{const r=((e,t)=>{const n=t-e;let l=[];if(n<0)return l;if(n<=4)for(let n=e;n<=t;n++)l.push(n);else if(n%10==0&&n<=40)for(let n=e;n<=t;n+=10)l.push(n);return l})(a,i),o=e.slice(0);let s=!1;r.length===l.length&&0!==r.length&&(r.forEach(e=>{null===t(e).ship?n(e).forEach(e=>{null===t(e).ship||(s=!0)}):s=!0}),s||(r.forEach((e,t)=>{o[e]={ship:l,index:t,status:"available"}}),e=o))},receiveAttack:l=>{if("available"===t(l).status){const a=null===t(l).ship?"missed":"hit";return((t,n)=>{const l=e.slice(0);l[n]={ship:l[n].ship,index:l[n].index,status:t},e=l})(a,l),"hit"===a&&(t(l).ship.hit(t(l).index),t(l).ship.isSunk()&&(l=>{const a=e.slice(0);e.forEach((e,i)=>{e.ship===l&&n(i).forEach(e=>{null===t(e).ship&&"available"===t(e).status&&(a[e]={ship:null,index:null,status:"unavailable"})})}),e=a})(t(l).ship)),a}return null},allShipsSunk:()=>{let t=!1;return e.forEach(e=>{null===e.ship||e.ship.isSunk()||(t=!0)}),!t}}};var i=(e,t)=>{const n=(e,t)=>Array(100).fill(0).map((e,t)=>t).filter(n=>e.getPosition(n).status===t);return{name:e,randomMove:e=>{if(!t)return null;const l=n(e,"available"),a=n(e,"hit");if(0!==a.length){const e=l.filter(e=>a.some(t=>(e=>{let t=[];return[e-1,e+1,e-10,e+10].forEach(n=>{n>=0&&n<100&&(e%10!=9&&e%10!=0?t.push(n):e%10==9?n%10!=0&&t.push(n):n%10!=9&&t.push(n))}),t})(e).includes(t)));if(0!==e.length)return e[Math.floor(Math.random()*e.length)]}return l[Math.floor(Math.random()*l.length)]}}};var r=(e=>{const t=e.querySelector("body"),n=t=>{document.getElementById("gameboards-container").removeChild(e.getElementById(t))},l=()=>{t.removeChild(e.getElementById("options"))},a=n=>{const l=e.createElement("div"),a=e.createElement("span");n?(l.id="won-message",a.textContent="You won!"):(l.id="lost-message",a.textContent="You lost"),l.appendChild(a),t.appendChild(l)},i=(l,r,o,s,c,p)=>{const d=e.getElementById("gameboards-container")||e.createElement("div");d.id="gameboards-container";const u=e.createElement("div");u.classList.add("gameboard"),u.id=l;Array(100).fill(0).map((e,t)=>r.getPosition(t)).forEach((t,d)=>{const h=e.createElement("div");h.classList.add("cell"),h.classList.add(t.status),null!==t.ship&&h.classList.add("ship"),s&&c&&!r.allShipsSunk()&&!o.allShipsSunk()&&h.addEventListener("click",e=>{null!==r.receiveAttack(d)&&(p(),n("gameboard-one"),i("gameboard-one",o,r,!s,!c,()=>{}),n(l),i(l,r,o,s,c,p),r.allShipsSunk()?a(!0):o.allShipsSunk()&&a(!1))}),u.appendChild(h)}),d.appendChild(u),t.appendChild(d)};return{clearBoard:n,renderBoard:i,renderTitle:()=>{const n=e.createElement("div");n.id="title";const l=e.createElement("h1");l.textContent="Battleship",n.appendChild(l),t.appendChild(n)},renderOptionScreen:(n,a)=>{const i=e.createElement("div");i.id="options";const r=e.createElement("button");r.classList.add("option-button"),r.textContent="Play against computer",r.addEventListener("click",()=>{l(),n()});const o=e.createElement("button");o.classList.add("option-button"),o.textContent="Play against someone else",o.addEventListener("click",()=>{l(),a()}),i.appendChild(r),i.appendChild(o),t.appendChild(i)},clearOptionScreen:l}})(document);((e,t,n)=>{const o=a(),s=a(),c=(i(t,!1),i(n,e)),p=l(4,5,35),d=l(3,17,37),u=l(1,9,9),h=l(1,29,29),f=l(1,49,49),m=l(2,54,64),S=l(2,56,66),g=l(2,68,69),v=l(1,85,85),b=l(3,97,99),E=l(4,5,35),y=l(3,17,37),C=l(1,9,9),x=l(1,29,29),k=l(1,49,49),M=l(2,54,64),O=l(2,56,66),P=l(2,68,69),B=l(1,85,85),L=l(3,97,99);o.placeShip(p,5,35),o.placeShip(d,17,37),o.placeShip(u,9,9),o.placeShip(h,29,29),o.placeShip(f,49,49),o.placeShip(m,54,64),o.placeShip(S,56,66),o.placeShip(g,68,69),o.placeShip(v,85,85),o.placeShip(b,97,99),s.placeShip(E,5,35),s.placeShip(y,17,37),s.placeShip(C,9,9),s.placeShip(x,29,29),s.placeShip(k,49,49),s.placeShip(M,54,64),s.placeShip(O,56,66),s.placeShip(P,68,69),s.placeShip(B,85,85),s.placeShip(L,97,99),r.renderTitle(),r.renderOptionScreen(()=>{r.renderBoard("gameboard-one",o,s,!1,!1,()=>{}),r.renderBoard("gameboard-two",s,o,!0,!0,()=>o.receiveAttack(c.randomMove(o)))},()=>{})})(!0,"helder","computer")}]);